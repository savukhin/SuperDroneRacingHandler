<!DOCTYPE HTML>
<html>

<head>
  <!-- <title>Steiner's Super Tengen Toppa Neon Genesis DroneRacing Program X</title> -->
  <title>TrackFox RaceControl</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" href="css/var-colors.css">
  <link rel="stylesheet" href="css/frame.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/redesign.css">
  <link rel="stylesheet" href="css/map.css">
  <link rel="stylesheet" href="css/table.css">
  <link rel="stylesheet" href="css/action.css">
</head>

<body onmouseup="Map.endSelection(event)">
  <header id="titlebar">
    <div id="drag-region">

      <div id="window-title">
        <span>TrackFox RaceControl</span>
      </div>

      <div id="window-controls">

        <div class="window-button" id="min-button">
          <img class="icon"
            srcset="img/icons/min-w-10.png 1x, img/icons/min-w-12.png 1.25x, img/icons/min-w-15.png 1.5x, img/icons/min-w-15.png 1.75x, img/icons/min-w-20.png 2x, img/icons/min-w-20.png 2.25x, img/icons/min-w-24.png 2.5x, img/icons/min-w-30.png 3x, img/icons/min-w-30.png 3.5x"
            draggable="false" />
        </div>

        <div class="window-button" id="max-button">
          <img class="icon"
            srcset="img/icons/max-w-10.png 1x, img/icons/max-w-12.png 1.25x, img/icons/max-w-15.png 1.5x, img/icons/max-w-15.png 1.75x, img/icons/max-w-20.png 2x, img/icons/max-w-20.png 2.25x, img/icons/max-w-24.png 2.5x, img/icons/max-w-30.png 3x, img/icons/max-w-30.png 3.5x"
            draggable="false" />
        </div>

        <div class="window-button" id="restore-button">
          <img class="icon"
            srcset="img/icons/restore-w-10.png 1x, img/icons/restore-w-12.png 1.25x, img/icons/restore-w-15.png 1.5x, img/icons/restore-w-15.png 1.75x, img/icons/restore-w-20.png 2x, img/icons/restore-w-20.png 2.25x, img/icons/restore-w-24.png 2.5x, img/icons/restore-w-30.png 3x, img/icons/restore-w-30.png 3.5x"
            draggable="false" />
        </div>

        <div class="window-button" id="close-button">
          <img class="icon"
            srcset="img/icons/close-w-10.png 1x, img/icons/close-w-12.png 1.25x, img/icons/close-w-15.png 1.5x, img/icons/close-w-15.png 1.75x, img/icons/close-w-20.png 2x, img/icons/close-w-20.png 2.25x, img/icons/close-w-24.png 2.5x, img/icons/close-w-30.png 3x, img/icons/close-w-30.png 3.5x"
            draggable="false" />
        </div>

      </div>
    </div>
  </header>

  <div id="main">

    <div class="topnav">
      <!-- <button class="button topnav-element" id="settings_button" onclick="settings()"> Settings </button> -->
      
      <button class="button topnav-element" id="refresh_button" onclick="Websockets.refreshClick()"> 
        <span>Refresh</span>
        <svg id="refreshLoad" style="display: none" viewBox="0 0 800 800" preserveAspectRatio="xMidYMid meet">
          <g id="arcs" transform=" translate(400 400) rotate(-90) scale(1 -1)"> 
            <path d="M 0 0 L 300 0 A 300 300 0 1 0 -299.48843273842596 17.512243028274025 L 0 0" opacity="0.5"/>
          </g>
          <circle class="inner-circle" cx="400" cy="400" r="250"/>
          
        </svg>
      </button>
      <div class="button topnav-element" onmouseleave="$(this).children().css('display', 'none');"
        onmouseenter="$(this).children().css('display', 'block');" id="helper"> ?
        <div>

        </div>
      </div>
    </div>
    <br><br><br>

    <div id="content" class="content">
      <div class="content-wrapper">

        <div id="map_box" onmouseenter="Map.handleSelection(event)" onmouseup="Map.endSelection(event)"
          onmousemove="Map.handleSelection(event)" onmousedown="Map.startSelection(event)" class="box">
          <div id="selection"></div>
          <div class="block scrollable scrollable-x scrollable-y" style="padding: 10px">
            <div id="map_grid" class="selectable-zone">
              <div id="map_line" class="selectable-zone"
                style="position: relative; grid-row-start: 1; grid-column-start: 1"></div>
              <div id="row_1" class="map-row"></div>
              <div id="row_2" style="grid-row-start: 2; grid-column-start: 1" class="map-row"></div>
              <div id="row_3" style="grid-row-start: 3; grid-column-start: 1" class="map-row"></div>
            </div>
          </div>
        </div>

        <div id="table_box" class="box">
          <div class="block scrollable scrollable-xy">
            <table id="main_table">
              <tr>
              </tr>
              <tr>
              </tr>
            </table>
          </div>
        </div>

        <div id="action_box" class="box">
          <div class="block scrollable scrollable-y">
            <!-- <div id="action_tabs" style="height:50px; font-size: 30px;" class="grid-2col">
              <button class="button" onclick="Action.changeTab(event, 'buttons_color')">Color</button>
              <button class="button" onclick="Action.changeTab(event, 'action_animations')">Animate</button>
            </div> -->
            <!-- <div style="height:50px; font-size: 30px;" class="grid-2col">
              <p>Before</p>
              <p>After</p>
            </div> -->
            <br>
            <div id="action_display" class="grid-2col" style="height: 217px">
              <div class="state_display_container" style="display: none">
                <div id="state_display_before" class="state_display scrollable scrollable-y"></div>
              </div>
              <!-- <div class="state_display_container" style="left: 25%"> -->
              <div class="state_display_container" style="left: 71px; width: 217px; height: 217px">
                <div id="state_display_after" class="state_display scrollable scrollable-y"></div>
              </div>
            </div>
            <br>
            <div id="action_colors">
              <div id="pickerBoxContainer">
                <div id="pickerBox">
                  <div id="color_display" class="color-display"></div>
                  <p><input id="red" min=0 max=255 value=0 type="range" class="red-slider"
                      oninput="Action.changeRangeColor(event, 'red', this.value)" /></p>
                  <p><input id="lime" min=0 max=255 value=0 type="range" class="lime-slider"
                      oninput="Action.changeRangeColor(event, 'lime', this.value)" /></p>
                  <p><input id="blue" min=0 max=255 value=0 type="range" class="blue-slider"
                      oninput="Action.changeRangeColor(event, 'blue', this.value)" /></p>
                  <br>
                  <div class="grid-2col" style="border: 1px solid white">
                    <button style="grid-column-start: 1; grid-column-start: 1;" class="button"
                      onclick="Action.handleColorPicker(event, true)">OK</button>
                    <button style="grid-column-start: 2; grid-column-start: 2;" class="button warning"
                      onclick="Action.handleColorPicker(event, false)">X</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="tabcontent" id="buttons_color">
              <div class="buttons-line">
                <button id="send_button" class="button" onClick="Action.toggle(event)">Send</button>
                <button id="blink_button" class="button" onClick="Action.blink(event)">Blink</button>
                <button id="reset_button" class="button" onClick="Action.reset(event)">Reset</button>
              </div>
            </div>

            <div style="position:relative; left: 5%; width: 90%; border: 1px solid var(--second-bg-color); border-radius: 3px; opacity: 0.4"></div>

            <div class="tabcontent" id="action_animations">
              <h3>Blink animation:</h3>

              <div style="padding: 10px 50px;">
                <table style="table-layout: fixed">
                  <tr>
                    <td><label for="animation_duration">Duration of one:</label></td>
                    <td class="flex-td"><input type="number" id="animation_duration" value="2" placeholder="in seconds" /></td>
                  </tr>
                  <tr>
                    <td><label for="animation_count">Count:</label></td>
                    <td class="flex-td"><input type="number" id="animation_count" value="4" placeholder="" />            
                      <input type="checkbox" id="animation_endless" style="display: none">
                      <button class="button" id="endless_checkbox" onclick="Action.endlessClick(event)">
                        <img src="img/icons/infinity.png" style="display: none"/>
                      </button>
                    </td>
                  </tr>
                </table>


                <!-- <div id="endless_checkbox">
                  <input type="checkbox" id="animation_endless" style="display: none"/>
                  <label for="animation_endless"></label>
                </div> -->

                <!-- <div style="padding: 10px 50px;">
                  <div class="grid-2col">
                    <div style="text-align: left">
                      <label for="animation_duration">Duration of one:</label>
                      <br>
                      <label for="animation_count">Count:</label>
                    </div>
                    <div>                    
                      <input type="number" id="animation_duration" value="2" placeholder="in seconds" />
                      <br>
                      <input type="number" id="animation_count" value="4" placeholder="" />
                      <div id="endless_checkbox">
                        <input type="checkbox" id="animation_endless" style="display: none"/>
                        <label for="animation_endless"></label>
                      </div>
                    </div>
                  </div> -->
                  <!-- <label for="animation_endless">IsEndless:</label> -->
            </div>

              <div class="buttons-line">
                <button id="animtaion_button" class="button" onClick="Action.animation(event)">Send</button>
                <button id="stop_animtaion_button" class="button" onClick="Action.stopAnimation(event)">Stop</button>
                <button id="reset_button" class="button" onClick="Action.reset(event)">Reset</button>
              </div>
            </div>

            <!-- <button onClick="Websockets.testAdd()">ADD!</button>
            <button onClick="Websockets.testDelete()">DELETE!</button> -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>window.$ = window.jQuery = require('jquery');</script>
  <script>
    require('./render.js')
  </script>
  <script type="text/javascript" src="js/facility.js"> </script>
  <script type="text/javascript" src="js/topnav-visual.js"> </script>
  <script type="text/javascript" src="js/table-visual.js"> </script>
  <script type="text/javascript" src="js/map-visual.js"> </script>
  <script type="text/javascript" src="js/action-visual.js"> </script>
  <script type="text/javascript" src="js/visual.js"> </script>
  <script type="text/javascript" src="js/websockets.js"> </script>
</body>

</html>